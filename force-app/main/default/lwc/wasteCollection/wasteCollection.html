<template>
	<lightning-card>
		<h2 slot="title">
			Find out which day we collect your rubbish, recycling, food and
			garden waste.
		</h2>
		<div class="slds-p-around_medium lgc-bg">
			<lightning-input
				type="text"
				label="Enter your postcode or street name"
				placeholder="e.g. SE6 4RU or Bargery Road"
				required
				id="test"
				list="suggestions"
				autocomplete
				onchange={handleInputChange}
				pattern="^[A-Z]{1,2}\d[A-Z\d]? ?\d[A-Z]{2}$"
			></lightning-input>
		</div>
		<lightning-button
			label="Search"
			onclick={handleSearch}
			slot="footer"
		></lightning-button>
	</lightning-card>

	<template if:true={showSearch}>
		<div
			class="slds-m-top_medium slds-var-p-around_medium lgc-bg-inverse slds-text-color_inverse"
		>
			<h3 class="slds-text-heading_medium">
				When your bins are collected:
			</h3>
			<template for:each={wasteJobs} for:item="item">
				<ul key={item.id} class="slds-has-dividers_bottom-space">
					<li class="slds-item">
						<div><strong>{item.name}</strong></div>
						<strong
							><lightning-relative-date-time
								value={item.date}
							></lightning-relative-date-time
						></strong>
						<p>
							Recycling is collected WEEKLY on
							<strong>{item.week}</strong>.
						</p>
					</li>
				</ul>
			</template>

			<p class="slds-m-top_medium">
				If you think the above is incorrect or is missing please
				<a href="/">notify us</a>
			</p>
		</div>
	</template>
</template>
